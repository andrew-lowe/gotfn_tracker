import db from '../db.js';

const terrains = [
  {
    name: 'Arctic Boundary Ridges',
    hex_type: 'mountain',
    description: 'Sudden, dense clusters of angular, jagged rock promontories rising from the arctic plains. These broken outcrops lie between 1,500\u20133,500\' in elevation. The barren ridges lack plant-life.',
    travel_speed_modifier: -0.33,
    travel_speed_notes: null,
    visibility: '120 miles (on bare ridges)',
    visibility_miles: 120,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '2:6',
    losing_direction_notes: null,
    foraging_chance: '1:6',
    foraging_yield: '1d3',
    foraging_notes: null,
    hunting_chance: '1:6',
    hunting_yield: '2d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '3:6',
    encounter_distance: '2d6 \u00d7 10',
    evasion_modifier: '+5% for jagged rocks',
    special_rules: null,
    color: '#7A7A7A',
    encounter_tables: [
      {
        name: 'Arctic Boundary Ridges Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 3, description: '1d6 tundra griffons (A)' },
          { roll_min: 4, roll_max: 6, description: '1d3 frost salamanders' },
          { roll_min: 7, roll_max: 8, description: 'Mountain tempest (C)' },
          { roll_min: 9, roll_max: 10, description: '6d10 grakals (A)' },
          { roll_min: 11, roll_max: 11, description: 'Rockfall (C)' },
          { roll_min: 12, roll_max: 13, description: '2d6 isothermal beetles (A)' },
          { roll_min: 14, roll_max: 15, description: '2d6 arctic ogres (A)' },
          { roll_min: 16, roll_max: 18, description: '1d6 yeti' },
          { roll_min: 19, roll_max: 20, description: '1d2 fellfrost wyverns (A)' },
        ],
      },
    ],
  },
  {
    name: 'Arctic Tundra Plains',
    hex_type: 'tundra',
    description: 'Called the Northman\'s Crossing by Hadean settlers. A frigid, barren land stretching from southern Helvarragh to the Gorogungamar Mountains \u2014 bitter cold, treeless wastes, and howling winds. Low shrubs, sedges, liverworts, grasses, and lichen. Permafrost lies 1d6\' below the surface, 15\u20131,500\' thick.',
    travel_speed_modifier: 0,
    travel_speed_notes: null,
    visibility: '3 miles',
    visibility_miles: 3,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '1:6',
    losing_direction_notes: 'When snow falls, add +2 from whiteout conditions',
    foraging_chance: '1:6',
    foraging_yield: '1d3',
    foraging_notes: null,
    hunting_chance: '1:6',
    hunting_yield: '4d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '2:6',
    encounter_distance: '4d6 \u00d7 10',
    evasion_modifier: null,
    special_rules: 'Permafrost below: 1d6\' down, layer is 1d100 \u00d7 15 feet thick. Digging nearly impossible without magic or explosives.',
    color: '#B8C9D1',
    encounter_tables: [
      {
        name: 'Arctic Tundra Plains Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: '1d2 tundra dragons (A)' },
          { roll_min: 3, roll_max: 3, description: '12 black wolves of the Garngat (A)' },
          { roll_min: 4, roll_max: 4, description: '2d4 Huronian hounds (A)' },
          { roll_min: 5, roll_max: 5, description: '2d4 winter wolves' },
          { roll_min: 6, roll_max: 6, description: '1d8 woolly rhinoceroses' },
          { roll_min: 7, roll_max: 7, description: '3d6 frost toads' },
          { roll_min: 8, roll_max: 8, description: '3d6 Enoruuk huntsmen (A)' },
          { roll_min: 9, roll_max: 9, description: '2d8 mammoth (mastodons)' },
          { roll_min: 10, roll_max: 12, description: '6d10 \u00d7 10 caribou (medium herd animals)' },
          { roll_min: 13, roll_max: 13, description: '4d6 \u00d7 10 muskoxen (large herd animals)' },
          { roll_min: 14, roll_max: 14, description: '3d10 cervataurs (A)' },
          { roll_min: 15, roll_max: 15, description: '2d4 Magoth skull acolytes (A), disguised as simple Enoruuk travelers; they may not attack the party, but they do size the heroes up and report the encounter to their superiors (hex 22.06)', notes: 'Disguised as Enoruuk travelers. Report back to hex 22.06.' },
          { roll_min: 16, roll_max: 16, description: '4d10 bugbears' },
          { roll_min: 17, roll_max: 17, description: '1d2 polar bears' },
          { roll_min: 18, roll_max: 18, description: '1d4 Titherion saber-toothed tigers' },
          { roll_min: 19, roll_max: 19, description: '1d3 giant arctic wolf spiders (A)' },
          { roll_min: 20, roll_max: 20, description: 'Amaqjuaq (A) (hex 05.13)' },
        ],
      },
    ],
  },
  {
    name: 'Boreal Plains',
    hex_type: 'grassland',
    description: 'Lush prairies, floral grasslands, and green low-rolling hills stretching from the farmlands around Valkengard to the central highlands. Few trees, dotted with small woodlands of spruce, hemlock, and cedar. Rests on the elevated Cauda Peninsula \u2014 rarely floods, stays dry most of the year.',
    travel_speed_modifier: 0,
    travel_speed_notes: null,
    visibility: '3 miles',
    visibility_miles: 3,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '1:6',
    losing_direction_notes: null,
    foraging_chance: '1:6',
    foraging_yield: '1d6',
    foraging_notes: null,
    hunting_chance: '2:6',
    hunting_yield: '4d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '1:6',
    encounter_distance: '6d6 \u00d7 10',
    evasion_modifier: '-25% for open lands',
    special_rules: null,
    color: '#7CB342',
    encounter_tables: [
      {
        name: 'Boreal Plains Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: '1d3 grizzly bears' },
          { roll_min: 3, roll_max: 3, description: '3d4 giant bombardier beetles (A)' },
          { roll_min: 4, roll_max: 4, description: '5d6 killer bees' },
          { roll_min: 5, roll_max: 5, description: '1d4+1 giant hawks' },
          { roll_min: 6, roll_max: 6, description: '4d4 grakals (A)' },
          { roll_min: 7, roll_max: 7, description: '4d6 wild dogs' },
          { roll_min: 8, roll_max: 8, description: '3d10 bandits' },
          { roll_min: 9, roll_max: 9, description: '4d6 muskoxen (large herd animals)' },
          { roll_min: 10, roll_max: 10, description: '1d3 moose (large herd animals)' },
          { roll_min: 11, roll_max: 11, description: '6d10 \u00d7 10 caribou (medium herd animals)' },
          { roll_min: 12, roll_max: 12, description: '2d8 dall sheep (medium herd animals)' },
          { roll_min: 13, roll_max: 13, description: '5d4 \u00d7 10 wood bison (large herd animals)' },
          { roll_min: 14, roll_max: 14, description: '4d10 brigands; if 20+ brigands, add a brigand leader (fighter 2)', notes: 'If 20+ brigands, add a brigand leader (fighter 2).' },
          { roll_min: 15, roll_max: 15, description: '4d6 wolves, 1d3-1 dire wolves' },
          { roll_min: 16, roll_max: 16, description: '1d4+1 giant lynxes (A)' },
          { roll_min: 17, roll_max: 17, description: '1d4+1 insect swarms (mosquitoes)' },
          { roll_min: 18, roll_max: 18, description: '1d6 black bears' },
          { roll_min: 19, roll_max: 19, description: '2d10 cervataurs (A)' },
          { roll_min: 20, roll_max: 20, description: '\u00d6t\u00f6g (A) (hex 05.18)' },
        ],
      },
    ],
  },
  {
    name: 'Brumal Uplands',
    hex_type: 'forest-hill',
    description: 'Sharp-ridged, low-altitude mountains with peaks shrouded in dense coniferous forests. Patches of barren rock scattered across mountaintops with tangled scrub and wildflowers. Elevation 2,000\u20134,000\'. Snow often dusts terrain even in late spring and early autumn.',
    travel_speed_modifier: -0.50,
    travel_speed_notes: null,
    visibility: '120 yards (on forested slope) or 120 miles (on bare upland peaks)',
    visibility_miles: 120,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '2:6',
    losing_direction_notes: null,
    foraging_chance: '1:6',
    foraging_yield: '1d6',
    foraging_notes: null,
    hunting_chance: '1:6',
    hunting_yield: '2d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '3:6',
    encounter_distance: '2d6 \u00d7 10',
    evasion_modifier: '+25% for thick forests',
    special_rules: null,
    color: '#2E7D32',
    encounter_tables: [
      {
        name: 'Brumal Uplands Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: '1 arctotherium (A)' },
          { roll_min: 3, roll_max: 3, description: '1d4 chimera' },
          { roll_min: 4, roll_max: 4, description: '1d4 dragonnes' },
          { roll_min: 5, roll_max: 5, description: '1d4 chimeras' },
          { roll_min: 6, roll_max: 6, description: '1d3 amphisbaena' },
          { roll_min: 7, roll_max: 7, description: '1d4 ankheg' },
          { roll_min: 8, roll_max: 8, description: '4d6 giant arctic fuzzy ant workers (A)' },
          { roll_min: 9, roll_max: 9, description: '2d8 dall sheep (medium herd animals)' },
          { roll_min: 10, roll_max: 12, description: 'Mountain tempest (C)' },
          { roll_min: 13, roll_max: 13, description: '2d4 carnivorous snow monkeys (white apes)' },
          { roll_min: 14, roll_max: 14, description: '1d4 owl bears' },
          { roll_min: 15, roll_max: 15, description: '4d6 wolves, 1d3-1 dire wolves' },
          { roll_min: 16, roll_max: 16, description: '2d4 peryton' },
          { roll_min: 17, roll_max: 17, description: '1d4 manticores' },
          { roll_min: 18, roll_max: 18, description: '1d4 leucrotta' },
          { roll_min: 19, roll_max: 19, description: '1d4 mountain dryads (bound with one hill or mountain; melds into stone)' },
          { roll_min: 20, roll_max: 20, description: '1d2 wyverns' },
        ],
      },
    ],
  },
  {
    name: 'Endless Taiga',
    hex_type: 'forest',
    description: 'Sprawling, mysterious boreal forests covering much of southernmost Titherion. Harsh, remote, and cold with frequent deep snows. Thin evergreen trees (spruce, pine, fir, larches, hemlock, tamarack) grow in tight stands. Floor covered in low shrubs, mosses, mushrooms, liverworts, lichens, and herbs. Haunted by taiga wights.',
    travel_speed_modifier: -0.33,
    travel_speed_notes: null,
    visibility: '120 yards',
    visibility_miles: null,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '3:6',
    losing_direction_notes: null,
    foraging_chance: '1:6',
    foraging_yield: '1d4',
    foraging_notes: null,
    hunting_chance: '2:6',
    hunting_yield: '4d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '2:6',
    encounter_distance: '2d6 \u00d7 10',
    evasion_modifier: '+25% for thick forests',
    special_rules: null,
    color: '#1B5E20',
    encounter_tables: [
      {
        name: 'Endless Taiga Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: '1 taiga dragon (A)' },
          { roll_min: 3, roll_max: 3, description: '1d3 shambling mounds' },
          { roll_min: 4, roll_max: 4, description: '1 great northern owl (A)' },
          { roll_min: 5, roll_max: 5, description: '2d4 trolls' },
          { roll_min: 6, roll_max: 6, description: '1d4+2 will-o-wisps' },
          { roll_min: 7, roll_max: 7, description: '3d6 giant wasps' },
          { roll_min: 8, roll_max: 8, description: '1d6 wild boars' },
          { roll_min: 9, roll_max: 9, description: '2d4 taiga wights (A)' },
          { roll_min: 10, roll_max: 10, description: '1d3 moose (large herd animals)' },
          { roll_min: 11, roll_max: 11, description: '4d6 wolves, 1d3-1 dire wolves' },
          { roll_min: 12, roll_max: 12, description: '1d4+1 giant lynxes (A)' },
          { roll_min: 13, roll_max: 13, description: '1d3 black widows' },
          { roll_min: 14, roll_max: 14, description: '1d3 grizzly bears' },
          { roll_min: 15, roll_max: 15, description: '1d4 owl bears' },
          { roll_min: 16, roll_max: 16, description: '1d4 warp beasts' },
          { roll_min: 17, roll_max: 17, description: '1d3 Titherion saber-toothed tigers' },
          { roll_min: 18, roll_max: 18, description: '1 giant mantis' },
          { roll_min: 19, roll_max: 19, description: '1d4 black unicorns (A)' },
          { roll_min: 20, roll_max: 20, description: 'Kappianartok (A) (hex 03.15) if in the western taiga forest, or Tarktuktulak (A) (hex 20.13) if in the eastern taiga forest' },
        ],
      },
    ],
  },
  {
    name: 'Farmlands',
    hex_type: 'farmland',
    description: 'Golden barley and grain fields bordering Skaalburg and Valkengard. Brief crop seasons but long summer daylight hours produce giant vegetables. Farm houses dot the landscape with grazing herds of livestock. Relatively safe, though aggressive wild beasts sometimes encroach.',
    travel_speed_modifier: 0,
    travel_speed_notes: null,
    visibility: '3 miles',
    visibility_miles: 3,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '1:6',
    losing_direction_notes: null,
    foraging_chance: 'auto',
    foraging_yield: '2d6',
    foraging_notes: 'Can\'t fail; 2d6 rations, but 2:6 chance an angry mob of farmers avenges the theft',
    hunting_chance: '2:6',
    hunting_yield: '4d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '1:6',
    encounter_distance: '4d6 \u00d7 10',
    evasion_modifier: '+10% for crops',
    special_rules: 'Foraging always succeeds but has a 2:6 chance of provoking an angry mob of farmers.',
    color: '#F9A825',
    encounter_tables: [
      {
        name: 'Farmlands Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: '1d4 black bears' },
          { roll_min: 3, roll_max: 3, description: '1d4 polar adders (pit vipers)' },
          { roll_min: 4, roll_max: 4, description: '1d3 insect swarms (bees)' },
          { roll_min: 5, roll_max: 5, description: '2d4 pixies' },
          { roll_min: 6, roll_max: 6, description: '1d12 giant ferrets' },
          { roll_min: 7, roll_max: 7, description: '3d10 giant rats' },
          { roll_min: 8, roll_max: 8, description: '3d6 hunting dogs, 1d4+1 veterans (1HD), 1 veteran (2HD)' },
          { roll_min: 9, roll_max: 9, description: '2d4 \u00d7 10 cattle (medium herd animals), 1d4-1 shepherds (traders) on riding horses' },
          { roll_min: 10, roll_max: 10, description: '2d4 \u00d7 10 hogs (medium herd animals), 1d4-1 shepherds (traders) on riding horses' },
          { roll_min: 11, roll_max: 11, description: '1d20 farmers (traders)' },
          { roll_min: 12, roll_max: 12, description: '2d4 \u00d7 10 muskoxen (large herd animals), 1d4-1 shepherds (traders) on riding horses' },
          { roll_min: 13, roll_max: 13, description: '2d4 \u00d7 10 sheep (medium herd animals), 1d4-1 shepherds (traders) on riding horses' },
          { roll_min: 14, roll_max: 14, description: '1d4+1 halflings' },
          { roll_min: 15, roll_max: 15, description: 'Band of adventurers \u2014 1d3 warriors (1d2 levels), 2 casters (1d3 levels), 1 expert (1d3 levels)' },
          { roll_min: 16, roll_max: 16, description: '1d4 wolves' },
          { roll_min: 17, roll_max: 17, description: '1 noble, 1 veteran (2HD), 1d10 veterans (1HD) on riding horses' },
          { roll_min: 18, roll_max: 18, description: '2d6 wild dogs' },
          { roll_min: 19, roll_max: 19, description: '1d2 moose (large herd animals)' },
          { roll_min: 20, roll_max: 20, description: '1d6 tiger beetles' },
        ],
      },
    ],
  },
  {
    name: 'Forbidden Coast',
    hex_type: 'hill',
    description: 'The Cauda Peninsula\'s coastline \u2014 a mixture of high cliffs, rocky beaches, sheltered fjords, and tidewater glaciers. Cold, foamy, incredibly dangerous coastal waters. Largely unexplored beyond the peninsula. Old Inilgaan artifacts and ruins sometimes found in ancient caves.',
    travel_speed_modifier: 0,
    travel_speed_notes: null,
    visibility: '120 yards (on rocky slope) or 12 miles (on coastal cliffs looking out to sea)',
    visibility_miles: 12,
    losing_direction_frequency: null,
    losing_direction_chance: null,
    losing_direction_notes: 'No chance',
    foraging_chance: '1:6',
    foraging_yield: '1d6',
    foraging_notes: null,
    hunting_chance: '1:6',
    hunting_yield: '4d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '1:6',
    encounter_distance: '4d6 \u00d7 10',
    evasion_modifier: null,
    special_rules: null,
    color: '#5D4037',
    encounter_tables: [
      {
        name: 'Forbidden Coast Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: '1d4 sea dragons' },
          { roll_min: 3, roll_max: 3, description: '1d4 tundra griffons (A)' },
          { roll_min: 4, roll_max: 4, description: '4d6 giant fuzzy arctic ants (A)' },
          { roll_min: 5, roll_max: 5, description: '2d4 giant hawks' },
          { roll_min: 6, roll_max: 6, description: '1d12 giant otters (A)' },
          { roll_min: 7, roll_max: 7, description: '1d6 \u00d7 5 sea lions (large herd animals)' },
          { roll_min: 8, roll_max: 8, description: '1d6 \u00d7 20 seals (medium herd animals)' },
          { roll_min: 9, roll_max: 9, description: '1d4 walruses (hippopotamuses)' },
          { roll_min: 10, roll_max: 12, description: 'Mountain tempest (C) and roll again', notes: 'Roll again on this table after resolving the tempest.' },
          { roll_min: 13, roll_max: 13, description: '2d6 giant crabs' },
          { roll_min: 14, roll_max: 14, description: '1d4 manticores' },
          { roll_min: 15, roll_max: 15, description: '1d3 anchored small warships; each with (1d4+4) \u00d7 10 pirates, 1d2 chief mates (4th level fighter), 1 captain (5th level fighter)' },
          { roll_min: 16, roll_max: 16, description: '1d8 giant draco lizards' },
          { roll_min: 17, roll_max: 17, description: '2d4 harpies' },
          { roll_min: 18, roll_max: 18, description: '1d8 cockatrices' },
          { roll_min: 19, roll_max: 19, description: '2d6 merrow' },
          { roll_min: 20, roll_max: 20, description: '1 sea hydra' },
        ],
      },
    ],
  },
  {
    name: 'Gjol River',
    hex_type: 'river',
    description: 'Flows from the tip of Lake Helvarragh, winding through high-walled upland canyons until emptying into the sea. 120\' wide, 5\u20138\' deep. Rarely freezes even in winter. Fast-moving waters become steep rapids in the brumal uplands. Salmon migrate upriver in early summer.',
    travel_speed_modifier: -0.50,
    travel_speed_notes: null,
    visibility: null,
    visibility_miles: null,
    losing_direction_frequency: null,
    losing_direction_chance: null,
    losing_direction_notes: null,
    foraging_chance: null,
    foraging_yield: null,
    foraging_notes: null,
    hunting_chance: null,
    hunting_yield: null,
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: null,
    wandering_monster_chance: null,
    encounter_distance: null,
    evasion_modifier: null,
    special_rules: 'FORDING: Party must find widest point (2:6 chance every 2 hours; barbarians/druids/elves/rangers 4:6). Each member makes open doors check; if half+ pass, ford succeeds. All heroes get soaked. If less than half pass: fording disaster \u2014 current sweeps 1d2 random characters downstream, high risk of drowning (C). CANYON RAPIDS: Impassable in brumal uplands; swimming = drowning risk (C), survivors take 1d4 d6s of damage (save vs death for half). BORE TIDES: Every month at dusk/dawn of full and new moons, surging wave (10\u201315 mph, 7\u201310\' high) moves upriver; drowning risk (C).',
    color: '#1565C0',
    encounter_tables: [],
  },
  {
    name: 'Glacial Icefields',
    hex_type: 'icefield',
    description: 'Along the Gorogungamar foothills \u2014 endless, upraised icefields. An interconnected string of valley glaciers punctured by nunataks and rognons. Six miles wide but extremely difficult and hazardous to cross.',
    travel_speed_modifier: -0.33,
    travel_speed_notes: null,
    visibility: '3 miles',
    visibility_miles: 3,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '2:6',
    losing_direction_notes: 'When snow falls, add +2 from whiteout conditions',
    foraging_chance: '1:6',
    foraging_yield: '1',
    foraging_notes: null,
    hunting_chance: '1:6',
    hunting_yield: '2d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '2:6',
    encounter_distance: '4d6 \u00d7 10',
    evasion_modifier: null,
    special_rules: null,
    color: '#B3E5FC',
    encounter_tables: [
      {
        name: 'Glacial Icefields Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: '1d2 fellfrost wyverns (A)' },
          { roll_min: 3, roll_max: 3, description: '1d6 tundra griffons (A)' },
          { roll_min: 4, roll_max: 5, description: '1d6 yeti' },
          { roll_min: 6, roll_max: 6, description: 'Collapsing ice (C)' },
          { roll_min: 7, roll_max: 9, description: '2d6 isothermal beetles (A)' },
          { roll_min: 10, roll_max: 12, description: '3d6 frost toads' },
          { roll_min: 13, roll_max: 15, description: '2d6 arctic ogres (A)' },
          { roll_min: 16, roll_max: 16, description: 'Collapsing ice (C)' },
          { roll_min: 17, roll_max: 18, description: '1 rime hag (A)' },
          { roll_min: 19, roll_max: 19, description: '1d3 frost salamanders' },
          { roll_min: 20, roll_max: 20, description: '1d4 niveous hulkers (A)' },
        ],
      },
    ],
  },
  {
    name: 'Glaring Beyond',
    hex_type: 'snowfield',
    description: 'Remote and endless ice sheet \u2014 the most dangerous place on earth. Harsh polar environment incredibly hostile to life. White haze in every direction causes travelers to wander lost in circles. Massive polar sea lies under the ice sheet. Fissures and cracks form, revealing blue waters below. Nunataks protrude from the ice, leading to Trow cities.',
    travel_speed_modifier: -0.33,
    travel_speed_notes: null,
    visibility: '3 miles',
    visibility_miles: 3,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '3:6',
    losing_direction_notes: 'When snow falls, add +2 from whiteout conditions',
    foraging_chance: '1:6',
    foraging_yield: '1d2-1',
    foraging_notes: null,
    hunting_chance: '1:6',
    hunting_yield: '4d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '2:6',
    encounter_distance: '4d6 \u00d7 10',
    evasion_modifier: null,
    special_rules: 'Polar Volcanoes: Some nunataks are active polar volcanoes \u2014 risk of polar volcano eruption (C). White smoke-plumes and arctic snow chimneys (fumaroles).',
    color: '#E0E0E0',
    encounter_tables: [
      {
        name: 'Glaring Beyond Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: 'Polar volcano eruption (C)' },
          { roll_min: 3, roll_max: 3, description: '1d4 remorhazes' },
          { roll_min: 4, roll_max: 5, description: '1d4 polar bears' },
          { roll_min: 6, roll_max: 6, description: 'Crumbling ice shelf (C)' },
          { roll_min: 7, roll_max: 8, description: '1d6 \u00d7 5 sea lions (large herd animals)' },
          { roll_min: 9, roll_max: 9, description: '1d6 \u00d7 20 seals (medium herd animals)' },
          { roll_min: 10, roll_max: 12, description: 'Polar easterly (C)' },
          { roll_min: 13, roll_max: 13, description: '1d6 \u00d7 20 seals (medium herd animals)' },
          { roll_min: 14, roll_max: 15, description: '1d4 walruses (hippopotamuses)' },
          { roll_min: 16, roll_max: 16, description: 'Crumbling ice shelf (C)' },
          { roll_min: 17, roll_max: 18, description: '1d3 frost salamanders' },
          { roll_min: 19, roll_max: 19, description: '1 rime hag (A)' },
          { roll_min: 20, roll_max: 20, description: '1d4 Trow (A)' },
        ],
      },
    ],
  },
  {
    name: 'Gorogungamar Mountains',
    hex_type: 'snowcapped mountain',
    description: 'The \'Mountains of Terror\' \u2014 a jagged range of black-blue stones rising from the glacial ice. Highest peak over 19,000\'. Extremely perilous climbing. Violent tempests descend with great fury. At higher altitudes, only one-third the oxygen available at sea level. Taiga dragons stalk the heights. Rocs nest on jagged peaks. Trow hunting parties navigate gorges.',
    travel_speed_modifier: -0.50,
    travel_speed_notes: null,
    visibility: '120 yards (on rocky slope) or 120 miles (on bare peaks or ridges)',
    visibility_miles: 120,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '2:6',
    losing_direction_notes: null,
    foraging_chance: '1:6',
    foraging_yield: '1d2',
    foraging_notes: null,
    hunting_chance: '1:6',
    hunting_yield: '1d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '3:6',
    encounter_distance: '2d6 \u00d7 10',
    evasion_modifier: '+15% for steep mountains',
    special_rules: null,
    color: '#37474F',
    encounter_tables: [
      {
        name: 'Gorogungamar Mountains Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: 'Avalanche (C)' },
          { roll_min: 3, roll_max: 3, description: '1d4 Trow (A)' },
          { roll_min: 4, roll_max: 4, description: '1d3 frost salamanders' },
          { roll_min: 5, roll_max: 5, description: '1d2 fellfrost wyverns (A)' },
          { roll_min: 6, roll_max: 6, description: 'Collapsing ice (C)' },
          { roll_min: 7, roll_max: 9, description: 'Polar easterly (C)' },
          { roll_min: 10, roll_max: 12, description: 'Mountain tempest (C)' },
          { roll_min: 13, roll_max: 15, description: 'Rockfall (C)' },
          { roll_min: 16, roll_max: 16, description: 'Collapsing ice (C)' },
          { roll_min: 17, roll_max: 17, description: '2d6 small rocs' },
          { roll_min: 18, roll_max: 18, description: '2d4 large rocs' },
          { roll_min: 19, roll_max: 19, description: '1d2 giant rocs' },
          { roll_min: 20, roll_max: 20, description: 'Avalanche (C)' },
        ],
      },
    ],
  },
  {
    name: 'Hibernal Boglands',
    hex_type: 'wetland',
    description: 'Treacherous, haunting peat-bog at sea level. Formed after coastal glaciers melted. Mossy landmasses weave through channels of murky water 1d4+3\' deep. Spongy peat floor with hard bedrock beneath preventing drainage. Islands of ancient stone with twisted trees. Constantly shrouded in mist.',
    travel_speed_modifier: -0.50,
    travel_speed_notes: '50% slower on foot, or 25% slower on a small water vessel',
    visibility: '1 mile',
    visibility_miles: 1,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '3:6',
    losing_direction_notes: null,
    foraging_chance: '1:6',
    foraging_yield: '1d6',
    foraging_notes: null,
    hunting_chance: '1:6',
    hunting_yield: '2d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '3:6',
    encounter_distance: '4d6 \u00d7 10',
    evasion_modifier: '+10% for fog',
    special_rules: 'HEAVY FOG: Daily 4:6 chance a thick fog covers the peatlands (apply fog weather effects). STORM FLOODING: During thunderstorms, water level rises 1d6\', travel is 75% slower unless using a water vessel. Shorter characters forced to swim. MUSKEG PITS (C): Hazard present in the bog.',
    color: '#4E342E',
    encounter_tables: [
      {
        name: 'Hibernal Boglands Encounters',
        dice_expression: '1d100',
        entries: [
          { roll_min: 1, roll_max: 5, description: '1d3 moose (large herd animals)' },
          { roll_min: 6, roll_max: 10, description: '3d10 giant rats' },
          { roll_min: 11, roll_max: 15, description: '1d10 giant vampire bats' },
          { roll_min: 16, roll_max: 20, description: '1d4 polar adders (pit vipers)' },
          { roll_min: 21, roll_max: 25, description: '3d6 giant mutant frogs' },
          { roll_min: 26, roll_max: 30, description: '1d6 giant poisonous frogs' },
          { roll_min: 31, roll_max: 35, description: '1d3 giant slugs' },
          { roll_min: 36, roll_max: 40, description: '1d4 giant leeches' },
          { roll_min: 41, roll_max: 45, description: '2d6 arctic tiger flies (A)' },
          { roll_min: 46, roll_max: 50, description: '1d3 insect swarms (1d3+1 HD; beetles or mosquitoes)' },
          { roll_min: 51, roll_max: 55, description: '1d12 giant otters (A)' },
          { roll_min: 56, roll_max: 60, description: '3d4 giant bombardier beetles (A)' },
          { roll_min: 61, roll_max: 70, description: 'Muskeg pit (C)' },
          { roll_min: 71, roll_max: 73, description: '1d2 amphisbaena' },
          { roll_min: 74, roll_max: 76, description: '1 flail snail' },
          { roll_min: 77, roll_max: 79, description: '1d6 aquatic spiders' },
          { roll_min: 80, roll_max: 82, description: '1d6+2 trolls' },
          { roll_min: 83, roll_max: 85, description: '1d2 giant water bugs (A)' },
          { roll_min: 86, roll_max: 88, description: '2d6 gullygugs' },
          { roll_min: 89, roll_max: 91, description: '1d8 Hyperborean alligators (normal crocodiles that brumate in winter)' },
          { roll_min: 92, roll_max: 94, description: '12 Shuun slavers (A), 2 Shuun overseers (A) (hex 10.19); if dead, replace with 4d4 bandits', notes: 'If dead, replace with 4d4 bandits.' },
          { roll_min: 95, roll_max: 95, description: '1d3+1 shambling mounds' },
          { roll_min: 96, roll_max: 96, description: '1d2 catoblepases' },
          { roll_min: 97, roll_max: 97, description: '1 black hag' },
          { roll_min: 98, roll_max: 98, description: '1d3 caeciliae' },
          { roll_min: 99, roll_max: 99, description: '1 banshee (the spirit-haunt of a long-dead Enoruuk staalista)' },
          { roll_min: 100, roll_max: 100, description: 'Giant Hyperborean alligator (giant crocodile that brumates in winter)' },
        ],
      },
    ],
  },
  {
    name: 'Lake Helvarragh',
    hex_type: 'lake',
    description: 'A deep glacial lake. Pure blue waters stretching for miles. South end depth exceeds 5,000\', north end 800\u20131,400\'. Fed by crystalline melt-streams from the tundra rivers. Dark round-pebbled shoreline littered with ancient bones and discarded military equipment. Hydrothermal vents at south end prevent freezing; north end freezes over with hummocks and cracks.',
    travel_speed_modifier: null,
    travel_speed_notes: 'See OSE Advanced Fantasy Player\'s Tome waterborne travel rules',
    visibility: '12 miles',
    visibility_miles: 12,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '1:6',
    losing_direction_notes: null,
    foraging_chance: '1:6',
    foraging_yield: '1d4',
    foraging_notes: 'Shore only',
    hunting_chance: '2:6',
    hunting_yield: '4d6',
    fishing_chance: '2:6',
    fishing_yield: '4d6',
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '1:6',
    encounter_distance: '2d6 \u00d7 10',
    evasion_modifier: null,
    special_rules: 'North end freezes in winter. South end never freezes due to hydrothermal vents. Undead dragon Brakkakhan (A) lurks in the south end. Water demon Ulurrugnak (A) in the north end.',
    color: '#0D47A1',
    encounter_tables: [
      {
        name: 'Lake Helvarragh Encounters',
        dice_expression: '2d10',
        entries: [
          { roll_min: 2, roll_max: 2, description: 'Hunk of floating ice with 1d4 ice leeches (A) lurking under it' },
          { roll_min: 3, roll_max: 3, description: '2d4 giant piranhas' },
          { roll_min: 4, roll_max: 4, description: '1 giant sturgeon' },
          { roll_min: 5, roll_max: 5, description: '1d4 giant lampreys' },
          { roll_min: 6, roll_max: 6, description: '1d4 giant pikes' },
          { roll_min: 7, roll_max: 7, description: '1d4+2 tomb raiders (bandits) rowing on a dinghy' },
          { roll_min: 8, roll_max: 8, description: '1d6 giant beavers (A)' },
          { roll_min: 9, roll_max: 9, description: '1d3 giant hawks' },
          { roll_min: 10, roll_max: 10, description: 'Band of adventurers on a boat \u2014 1d3 warriors (1d2 levels), 2 casters (1d3 levels), 1 expert (1d3 levels)' },
          { roll_min: 11, roll_max: 11, description: '1d4 boats with 1d3 Enoruuk fishermen (traders)' },
          { roll_min: 12, roll_max: 12, description: 'School of glowing aurora fish swims under the party\'s boat (chance to gain food supplies from large shoal)' },
          { roll_min: 13, roll_max: 13, description: '2d4 giant bass' },
          { roll_min: 14, roll_max: 14, description: '2d4 giant piranha' },
          { roll_min: 15, roll_max: 15, description: '1d8+8 Hell Raider buccaneers (A) (hex 17.10) on a river boat' },
          { roll_min: 16, roll_max: 16, description: '1d4+1 Magoth skull acolytes (A) in a skiff; disguised as Enoruuk travelers; they may not attack the party, but will size them up and report back to superiors (hex 22.06)', notes: 'Disguised as Enoruuk travelers. Report back to hex 22.06.' },
          { roll_min: 17, roll_max: 17, description: '1d4 tundra griffons (A)' },
          { roll_min: 18, roll_max: 18, description: '2d6 drowned dead (A)' },
          { roll_min: 19, roll_max: 19, description: 'The Curse of Baalor (A), set loose by its master to hunt in the lake; stays just under the surface, attacking with extending pseudopods; makes a morale check if attacked with fire' },
          { roll_min: 20, roll_max: 20, description: 'Rising from the dark waters with a terrifying roar: Ulurrugnak (A) (hex 05.08) if in the lake\'s north end, or Brakkakhan (A) the skeletal dragon if in the lake\'s south end' },
        ],
      },
    ],
  },
  {
    name: 'Osteon Road',
    hex_type: 'road',
    description: 'A long track road running 96 miles between Valkengard and Kangkul. Steady traffic from adventurers, lumbermen, merchants, explorers, and military patrols. Enoruuk inukshuk formations and Hadean waist-high stone plinths every quarter-mile mark the route. Named after Commander Osteon.',
    travel_speed_modifier: 0.50,
    travel_speed_notes: null,
    visibility: '3 miles',
    visibility_miles: 3,
    losing_direction_frequency: null,
    losing_direction_chance: null,
    losing_direction_notes: 'No chance',
    foraging_chance: '2:6',
    foraging_yield: '2d4',
    foraging_notes: null,
    hunting_chance: '2:6',
    hunting_yield: '4d6',
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '3:6',
    encounter_distance: '4d6 \u00d7 10',
    evasion_modifier: null,
    special_rules: null,
    color: '#8B7355',
    encounter_tables: [
      {
        name: 'Osteon Road Encounters',
        dice_expression: '1d100',
        entries: [
          { roll_min: 1, roll_max: 5, description: '5d4 \u00d7 10 wood bison (large herd animals)' },
          { roll_min: 6, roll_max: 10, description: '6d10 \u00d7 10 caribou (medium herd animals)' },
          { roll_min: 11, roll_max: 15, description: 'Band of adventurers \u2014 1d3 warriors (1d2 levels), 2 casters (1d3 levels), 1 expert (1d3 levels)' },
          { roll_min: 16, roll_max: 20, description: '2d10 Hadean merchants; each with a wagon pulled by 2 muskoxen (large herd animals), 1d4+1 veterans (1d2 HD); also, 2d6 \u00d7 5 normal human travelers' },
          { roll_min: 21, roll_max: 25, description: '3d6 Enoruuk traders; each with 1d4 mules loaded with trade goods' },
          { roll_min: 26, roll_max: 30, description: 'Valken military patrol on riding horses: 2d6 Valken soldiers (A), 1d6 Valken archers (A), Valken sergeant (A)' },
          { roll_min: 31, roll_max: 35, description: 'Skaal military patrol on riding horses: 2d6 Skaal soldiers (A), 1d6 Skaal archers (A), Skaal sergeant (A)' },
          { roll_min: 36, roll_max: 40, description: '1d8 Enoruuk huntsmen (A)' },
          { roll_min: 41, roll_max: 45, description: '4d6 muskoxen (large herd animals)' },
          { roll_min: 46, roll_max: 50, description: '1d3 moose (large herd animals)' },
          { roll_min: 51, roll_max: 55, description: '1d3 giant hawks' },
          { roll_min: 56, roll_max: 60, description: '3d6 wild dogs' },
          { roll_min: 61, roll_max: 65, description: '2d6 wolves' },
          { roll_min: 66, roll_max: 70, description: '2d6 stirges' },
          { roll_min: 71, roll_max: 73, description: 'A flock of songbirds atop the nearby trees, watching' },
          { roll_min: 74, roll_max: 76, description: '1d2 insect swarms (mosquitoes)' },
          { roll_min: 77, roll_max: 79, description: '1d4 black bears' },
          { roll_min: 80, roll_max: 82, description: '1d4 giant lynxes (A)' },
          { roll_min: 83, roll_max: 85, description: '2d4 grakals (A)' },
          { roll_min: 86, roll_max: 88, description: '1d10 cervataurs (A)' },
          { roll_min: 89, roll_max: 91, description: '3d10 bandits' },
          { roll_min: 92, roll_max: 94, description: '1d3 grizzly bears' },
          { roll_min: 95, roll_max: 95, description: '12 Shuun slavers (A), 2 Shuun overseers (A) (hex 10.19); if dead, replace with 4d4 bandits', notes: 'If dead, replace with 4d4 bandits.' },
          { roll_min: 96, roll_max: 96, description: '1d8 Sun Healer disciples (A) (hex 08.23) aggressively proselytizing' },
          { roll_min: 97, roll_max: 97, description: 'Lt. Yalto (A) (hex 11.17) meeting with an Enoruuk Sky Keeper messenger (nomad) sent by Panuk (A) (hex 18.16)' },
          { roll_min: 98, roll_max: 98, description: 'Cyrus the Outlaw (A) (hex 12.22), 4 brigands; disguised and seeking news on local banditry; they feign concern, but want to join a gang' },
          { roll_min: 99, roll_max: 99, description: 'Amaqjuaq (A) (hex 05.13)' },
          { roll_min: 100, roll_max: 100, description: '\u00d6t\u00f6g (A) (hex 05.18)' },
        ],
      },
    ],
  },
  {
    name: 'Southern Ocean',
    hex_type: 'ocean',
    description: 'Dark and turbulent waters. Mighty storms rage across the surface. Pirates stalk for merchant vessels. Massive sea predators hunt below. The farther one sails, the more dangerous it gets.',
    travel_speed_modifier: null,
    travel_speed_notes: 'See OSE Advanced Fantasy Player\'s Tome waterborne travel rules',
    visibility: '12 miles',
    visibility_miles: 12,
    losing_direction_frequency: '1/day',
    losing_direction_chance: '2:6',
    losing_direction_notes: '2:6 with a navigator; without a navigator: 2:6 within sight of land, 5:6 on the open sea',
    foraging_chance: null,
    foraging_yield: null,
    foraging_notes: null,
    hunting_chance: null,
    hunting_yield: null,
    fishing_chance: '2:6',
    fishing_yield: '4d6',
    wandering_monster_frequency: '1/day',
    wandering_monster_chance: '2:6',
    encounter_distance: '4d6 \u00d7 10',
    evasion_modifier: null,
    special_rules: null,
    color: '#0A3D6B',
    encounter_tables: [
      {
        name: 'Southern Ocean Encounters',
        dice_expression: '1d100',
        entries: [
          { roll_min: 1, roll_max: 5, description: '1 large sailing ship with 5d4 merchants; 1d6 veterans (1HD) per merchant; 1d2 veterans (1d2+1 HD) per 5 veterans; also (1d4+1) \u00d7 10 crew members and passengers (normal humans)' },
          { roll_min: 6, roll_max: 10, description: '1d3 small galleys; each with (1d3+1) \u00d7 10 buccaneers, 1 buccaneer leader (3rd level fighter)' },
          { roll_min: 11, roll_max: 15, description: '1d3 small warships; each with (1d4+4) \u00d7 10 pirates, 1d2 chief mates (4th level fighter), 1 captain (5th level fighter)' },
          { roll_min: 16, roll_max: 20, description: '2d4 saltwater termites' },
          { roll_min: 21, roll_max: 25, description: '2d4 giant rockfish' },
          { roll_min: 26, roll_max: 30, description: '3d4 strangle weeds' },
          { roll_min: 31, roll_max: 35, description: '1d4 giant sturgeon' },
          { roll_min: 36, roll_max: 40, description: '1d3 giant sea turtles' },
          { roll_min: 41, roll_max: 45, description: '3d6 bull sharks' },
          { roll_min: 46, roll_max: 50, description: '1d2 giant octopi' },
          { roll_min: 51, roll_max: 55, description: '1d10 giant jellyfish' },
          { roll_min: 56, roll_max: 60, description: '2d4 giant lampreys' },
          { roll_min: 61, roll_max: 65, description: '1d4 narwhals' },
          { roll_min: 66, roll_max: 70, description: '1d4 giant swordfish' },
          { roll_min: 71, roll_max: 73, description: '1d4 great white sharks' },
          { roll_min: 74, roll_max: 76, description: '1d4 giant squids' },
          { roll_min: 77, roll_max: 79, description: '1d6 killer whales' },
          { roll_min: 80, roll_max: 82, description: '1d12 sperm whales' },
          { roll_min: 83, roll_max: 85, description: '2d6 merrow' },
          { roll_min: 86, roll_max: 88, description: '1d8 sea snakes' },
          { roll_min: 89, roll_max: 91, description: '1d4 sea hags' },
          { roll_min: 92, roll_max: 94, description: '1d3 giant electric eels' },
          { roll_min: 95, roll_max: 95, description: '2d6 lesser sea serpents' },
          { roll_min: 96, roll_max: 96, description: '1 sea hydra' },
          { roll_min: 97, roll_max: 97, description: '1d4 sea dragons' },
          { roll_min: 98, roll_max: 98, description: '1d4 greater sea serpents' },
          { roll_min: 99, roll_max: 99, description: '2d20 sea nixies, 1 charmed eye of the deep, 1 charmed sea dragon' },
          { roll_min: 100, roll_max: 100, description: '1 dragon turtle' },
        ],
      },
    ],
  },
  {
    name: 'Tundra Rivers',
    hex_type: 'river',
    description: 'Three rivers flow north-to-south through the arctic tundra: the Hyperborean River (280\' wide, 20\' deep, 51 miles long), the Polynya River (160\' wide, 14\' deep, 20 miles long), and the Talanian River (90\' wide, 8\' deep, 7 miles long).',
    travel_speed_modifier: -0.33,
    travel_speed_notes: null,
    visibility: null,
    visibility_miles: null,
    losing_direction_frequency: null,
    losing_direction_chance: null,
    losing_direction_notes: null,
    foraging_chance: null,
    foraging_yield: null,
    foraging_notes: null,
    hunting_chance: null,
    hunting_yield: null,
    fishing_chance: null,
    fishing_yield: null,
    wandering_monster_frequency: null,
    wandering_monster_chance: null,
    encounter_distance: null,
    evasion_modifier: null,
    special_rules: 'FORDING (when not frozen): Same rules as Gjol River \u2014 find widest point (2:6 chance every 2 hours; barbarians/druids/elves/rangers 4:6). Open doors check; half+ pass = success. All get soaked. Failure = fording disaster (1d2 swept downstream, drowning risk C). CROSSING ICE (below 32\u00b0F): Rivers freeze. Must find straight portion (thicker ice). Search: 2 hours, 2:6 chance (barbarians/druids/elves/rangers 4:6). Travel across frozen river is 33% slower. While crossing roll 1d6: on 1 encounter 1d4 ice leeches (A); on 2 collapsing ice (C) hazard with drowning risk.',
    color: '#1976D2',
    encounter_tables: [],
  },
];

const TERRAIN_FIELDS = [
  'name', 'hex_type', 'description', 'travel_speed_modifier', 'travel_speed_notes',
  'visibility', 'visibility_miles', 'losing_direction_frequency', 'losing_direction_chance',
  'losing_direction_notes', 'foraging_chance', 'foraging_yield', 'foraging_notes',
  'hunting_chance', 'hunting_yield', 'fishing_chance', 'fishing_yield',
  'wandering_monster_frequency', 'wandering_monster_chance', 'encounter_distance',
  'evasion_modifier', 'special_rules', 'color',
];

export function seedTerrains() {
  const count = db.prepare('SELECT COUNT(*) as count FROM terrain_types').get();
  if (count.count > 0) return;

  const placeholders = TERRAIN_FIELDS.map((f) => `@${f}`).join(', ');
  const columns = TERRAIN_FIELDS.join(', ');

  const insertTerrain = db.prepare(
    `INSERT INTO terrain_types (${columns}) VALUES (${placeholders})`
  );

  const insertTable = db.prepare(
    'INSERT INTO encounter_tables (terrain_id, name, dice_expression) VALUES (?, ?, ?)'
  );

  const insertEntry = db.prepare(
    'INSERT INTO encounter_table_entries (table_id, roll_min, roll_max, description, notes) VALUES (?, ?, ?, ?, ?)'
  );

  const seedAll = db.transaction(() => {
    for (const terrain of terrains) {
      const params = {};
      for (const f of TERRAIN_FIELDS) {
        params[f] = terrain[f] !== undefined ? terrain[f] : null;
      }

      const result = insertTerrain.run(params);
      const terrainId = result.lastInsertRowid;

      for (const table of terrain.encounter_tables) {
        const tableResult = insertTable.run(terrainId, table.name, table.dice_expression);
        const tableId = tableResult.lastInsertRowid;

        for (const entry of table.entries) {
          insertEntry.run(tableId, entry.roll_min, entry.roll_max, entry.description, entry.notes || null);
        }
      }
    }
  });

  seedAll();
}
